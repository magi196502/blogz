{% extends "base.html" %}
{% block content %}
<h1>Blogz</h1>
</form>

    <form action="/blog">
        <!--
            Process multiple posts
        -->
        {% if posts|length != 0 %}

            {% for post_blogger in posts %}
                    {% for post in post_blogger.blogs %}
                <div>
                    <p> <a href="/blog?id={{ post.id}}"> {{ post.title }} </a>  </p>
                    <p> {{ post.blog_body }} </p>
                    <p> Date posted {{ post.post_date }}</p>
                    <p> Written by <a href="/blog?user={{ post_blogger.username }}">  {{ post_blogger.username }} </a>  </p>
                </div>
                    {% endfor %}
                <hr/>
            {% endfor %}

        
        {% else %}
        <!--
            Process a single post
        -->
        <div>
                <h1 class="single_blog" >{{ blog_post.title }}</h1>
                <p class="single_blog_body">{{ blog_post.blog_body }}</p>
                <p class="single_blog"> Date posted {{ blog_post.post_date }}</p>
                <p> Written by <a href="/blog?user={{ written_by }}"> {{ written_by }} </a>  </p>
            </div>

        {% endif %}    
    </form>

{% endblock %}